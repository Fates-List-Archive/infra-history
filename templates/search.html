{% extends "base/base.html" %}

{% block head %}

{% endblock %}

{% block content %}

    <div style="margin-top: 200px;">
        <div class="text-center" id="header_text" style="width: 90%;max-width: 600px;margin-right: auto;margin-left: auto;margin-top: 100px;">
            <h2 style="font-weight: bold;font-size: 67px;color: rgba(255,255,255,0.87);">Fates List</h2>
            <h6 style="font-weight: bold;opacity: 0.82;font-size: 20px;color: rgba(255,255,255,0.87);">Find the best bots for your servers.</h6>
        </div><div class="search_wrap search_wrap_3">
	<div class="search_box is-mobile is-centered">
	{% if not profile_search %}
        <form method="GET" action="/search/t">
		<input type="text" class="input" placeholder="Search for bots related to your term." name="q" value="{{query}}">
            <button class="btn btn_common" type="submit">
                <i class="fas fa-search"></i>
            </button>
        </form>
	{% else %}
        <form method="GET" action="/search/profile">
                <input type="text" class="input" placeholder="Search for profiles related to your term." name="q" value="{{query}}">
            <button class="btn btn_common" type="submit">
                <i class="fas fa-search"></i>
            </button>
        </form>
	{% endif %}
     </div>
     {% if not profile_search %}
     <small style="font-size: 14.5px; display: block; font-weight: bold; text-align: center; color: white;">Want to search by profile? Try <a href="/search/profile" style="opacity: 0.8; color: white;">Profile Search</a></small>
     {% else %}
     <small style="font-size: 14.5px; display: block; font-weight: bold; text-align: center; color: white;">Want to search by bot? Try <a href="/" style="opacity: 0.8; color: white;">Bot Search</a></small>
     {% endif %}
  </div>
    </div>
    <div class="d-flex flex-wrap justify-content-center align-items-center" style="width: 80%;margin: 0 auto;">
        <div class="d-flex flex-wrap justify-content-center align-items-center" style="width: 80%;margin: 0 auto;">
            {% for tag,new_tag in tags_fixed.items() %}
               <div class="content-nomobile">
                <div class="text-nowrap d-flex justify-content-center align-items-center" style="line-height: 2;border-radius: 25px;background: #7289DA;width: auto;margin: 10px; cursor:pointer;" onclick="location.href='/search/tags?tag={{tag}}'">
                    <p style="color: rgba(255,255,255,0.87);font-size: 15px;font-weight: bold;margin: 2px 10px;line-height: 2;">{{new_tag}}</p>
                </div>
               </div>
            {% endfor %}
	    <div class="content-mobileonly">
                    <form method="GET" action="/search/tags">
                            <label for="tag" style="color: rgba(255, 255, 255, 0.87);">Choose A Tag</label>
                            <select name="tag">
                                    {% for tag, new_tag in tags_fixed.items() %}
                                    <option value="{{tag}}">{{new_tag}}</option>
                                    {%endfor%}
                            </select>
                            <button class="btn btn-primary" style="background: #7289DA;" type="submit">Search</button>
                    </form>
            </div>
    </div>
    <hr style="font-size: 20px;border-top-width: 1px;border-top-color: #eee;width: 90%;">
    <div class="d-flex" style="margin-left: 5%;"><i class="fas fa fa-search fa-3x" style="color:white;"></i>
        <h4 style="color: rgba(255,255,255,0.87);margin-left: 15px;">Search Results</h4>
    </div>
    <div class="d-flex flex-wrap justify-content-sm-center align-items-sm-center justify-content-md-center justify-content-lg-center" id="tt-1" style="width: 90%;margin: 30px 5%;">
	{% if not profile_search %}
	{% if search_bots == [] %}
		<h4 class="text-nowrap text-break text-center" style="color: rgba(255,255,255,0.87);font-weight: bold;white-space: nowrap;text-overflow: ellipsis;overflow: hidden;">No Bots Found</h4>
	{% endif %}
        {% for bot in search_bots %}
        <div style="width: 300px;height: 450px;background: #111112;box-shadow: 0px 0px 20px 5px;border-top-style: none;margin: 25px 25px;">
            {% if bot.bot.banner == "" or bot.bot.banner == "none" or not bot.bot.banner or bot.bot.banner == "None" %}<div style="width: 100%;height: 30%;background: url(&quot;/static/assets/img/banner.png&quot;) center / cover no-repeat;">{% else %}<div style="width: 100%;height: 30%;background: url(&quot;{{bot.bot.banner}}&quot;) center / cover no-repeat;">{% endif %}{% if bot.bot.certified == True %}<i class="fas fa-certificate fa-3x" style="color:#7289DA; position: absoulute; margin-top: -15px; margin-left: 90%"></i>{% endif %}<img style="border-radius: 50%;width: 30%;margin: 5% auto;margin-top: 17%;margin-right: 35%;margin-left: 35%;" src="{{bot.avatar}}"></div>
            <div>
                <div style="margin-right: auto;margin-left: auto;margin-top: 30px;width: 200px;">
                    <h4 class="text-nowrap text-break text-center" style="color: rgba(255,255,255,0.87);font-weight: bold;white-space: nowrap;text-overflow: ellipsis;overflow: hidden; font-size: 21px; margin-top: 35px">{{bot.username}}</h4>
                </div>
            </div>
            <h6 style="font-size: 16px;font-weight: bold;color: rgba(255,255,255,0.87);opacity: 0.63;width: 90%;margin: 0 5%;height:105px"><strong style="overflow-wrap: anywhere;">{{bot.description}}</strong></h6>
            <div class="d-flex" style="width: 80%;margin: 0 10%;height: 10%;margin-top: 20px;margin-bottom: 20px;">
                <div style="height: 30px;width: 101px;margin-right: 10px;">
                    <p class="text-center" style="color: rgba(255,255,255,0.87);font-weight: bold;"><i class="fas fa-server" style="margin-right: 3px"></i>{{bot.servers}}</p>
                </div>
                <div style="height: 30px;width: 101px;margin-left: 28px;">
                    <p class="text-center" style="color: rgba(255,255,255,0.87);font-weight: bold;"><i class="fas fa-thumbs-up" style="margin-right: 3px"></i>{{bot.votes}}</p>
                </div>
            </div>
            <div style="width: 80%;margin: 0 10%;"><a href="/bot/{{bot.bot.bot_id}}" class="btn btn-primary" style="width: 45%;margin-right: 5%;background: #7289DA;border-radius: 25px;font-weight: bold;">View</a><a href="{{bot.bot.invite}}" class="btn btn-primary" style="width: 45%;margin-left: 5%;background: #7289DA;border-radius: 25px;font-weight: bold;" target="_blank">Invite</a></div>
        </div>
    {% endfor %}
    {% else %}
    {% for profile in profiles %}
        <div style="width: 300px;height: 450px;background: #111112;box-shadow: 0px 0px 20px 5px;border-top-style: none;margin: 25px 25px;">
            {% if profile.user.banner == "" or profile.user.banner == "none" or not profile.user.banner or profile.user.banner == "None" %}<div style="width: 100%;height: 30%;background: url(&quot;/static/assets/img/banner.png&quot;) center / cover no-repeat;">{% else %}<div style="width: 100%;height: 30%;background: url(&quot;{{profile.user.banner}}&quot;) center / cover no-repeat;">{% endif %}{% if profile.user.certified == True %}<i class="fas fa-certificate fa-3x" style="color:#7289DA; position: absoulute; margin-top: -15px; margin-left: 90%"></i>{% endif %}<img style="border-radius: 50%;width: 30%;margin: 5% auto;margin-top: 17%;margin-right: 35%;margin-left: 35%;" src="{{profile.avatar}}"></div>
            <div>
                <div style="margin-right: auto;margin-left: auto;margin-top: 30px;width: 200px;">
                    <h4 class="text-nowrap text-break text-center" style="color: rgba(255,255,255,0.87);font-weight: bold;white-space: nowrap;text-overflow: ellipsis;overflow: hidden; font-size: 21px; margin-top: 35px">{{profile.username}}</h4>
                </div>
            </div>
	    <h6 style="font-size: 16px;font-weight: bold;color: rgba(255,255,255,0.87);opacity: 0.63;width: 90%;text-align: center; height:105px"><strong style="overflow-wrap: anywhere;">{% if not profile.description %}No Description Is Available{%else%}{{profile.description}}{%endif%}</strong></h6>
            <div style="width: 80%; text-align: center; margin-left: 20px !important; "><a href="/profile/{{profile.user.userid}}" class="btn btn-primary btn-block" style="width: 45%;margin-right: 5%;background: #7289DA;border-radius: 25px;font-weight: bold;">View</a>
            </div>
	   </div>
    {% endfor %}
    {% endif %}
    </div>
    <script src="/static/assets/js/main.js"></script>
{% endblock %}
{% block footer %}

{% endblock %}
